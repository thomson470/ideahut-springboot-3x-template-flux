const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Search-BYjaRapV.js","assets/format-CGhROzcI.js","assets/index-DHD4YuRL.js","assets/index-G0ic_0eP.css","assets/QTooltip-BF_G_uWg.js","assets/QTabPanels-BDvRJGNV.js","assets/QResizeObserver-D1Jp1oLS.js","assets/QTable-_w2CDqAD.js","assets/TouchPan-jmEJS9YP.js","assets/QPopupProxy-Btg3RRTJ.js","assets/QForm-DNR0ZqNO.js","assets/ClosePopup-BUscyfOW.js","assets/QSpace-1hX8bodH.js","assets/QInnerLoading-D79c4tOQ.js","assets/QSpinnerGears-u5VfzIwZ.js","assets/View-DX8ImBm4.js","assets/Edit-Cd5ubtJD.js","assets/QFab-CkvX6-x7.js"])))=>i.map(i=>d[i]);
import{ae as t,ac as j,ab as J,af as N,_ as G,ag as C,Y as x,a7 as B,$ as w,f as m,a0 as g,Z as k,a2 as v,a3 as V,aj as W,an as Y,a9 as T,a5 as S,ao as z,a4 as P,G as U,ap as H,aq as X,C as Z,a1 as K,al as Q,F as $,r as O,am as I}from"./index-DHD4YuRL.js";import{Q as q}from"./QTooltip-BF_G_uWg.js";import{Q as L}from"./QSpace-1hX8bodH.js";import{Q as ee,b as le,a as ie,e as te}from"./format-CGhROzcI.js";import{a as ae,Q as re}from"./QTable-_w2CDqAD.js";import{Q as M}from"./QInnerLoading-D79c4tOQ.js";import{Q as oe}from"./QSpinnerGears-u5VfzIwZ.js";import{T as ne}from"./TouchPan-jmEJS9YP.js";const F=eval,o={id:{fromPk(e,l){if(t.isDefined(l))return e.type==="STANDARD"?l:JSON.parse(l)},toPk(e,l){let a;if(e.type==="COMPOSITE"){a={};for(const i of e.fields)a[i]=l[i];a=JSON.stringify(a)}else e.type==="EMBEDDED"?a=JSON.stringify(l[e.fields[0]]):e.type==="STANDARD"&&(a=l[e.fields[0]]);return a}},prepare:{toFunction(e){if(t.isArray(e))for(const l of e){let a=l.format;t.isString(a)&&a.startsWith("function")?(a=F("("+a+")"),l.format=a):delete l.format;let i=l.toValue;t.isString(i)&&i.startsWith("function")?(i=F("("+i+")"),l.toValue=i):delete l.toValue;let n=l.nullValue;t.isString(n)&&n.startsWith("function")?(n=F("("+n+")"),l.nullValue=n):delete l.nullValue;let d=l.rowToValue;t.isString(d)&&d.startsWith("function")?(d=F("("+d+")"),l.rowToValue=d):delete l.rowToValue}},options(e){t.isObject(e)&&Object.keys(e).forEach(l=>{let a=o.get.array(e[l]);for(const i of a)(!t.isDefined(i.value)||i.value===null)&&(i.value=void 0);e[l]=a})},children(e){if(t.isArray(e))for(const l of e){o.prepare.children(l.children);let a=o.get.array(l.fields);o.prepare.toFunction(a),l.fields=a;let i=o.get.object(l.table);o.prepare.toFunction(i.columns),l.table=i}},forms(e){if(t.isArray(e))for(const l of e){let a=o.get.array(l.fields);o.prepare.toFunction(a),l.fields=a}},picks(e){t.isObject(e)&&Object.keys(e).forEach(l=>{let a=o.get.object(e[l]),i=o.get.object(a.table);o.prepare.toFunction(i.columns),a.table=i,e[l]=a})}},inject:{pkAndGridId(e,l,a){if(t.isArray(l)){let i;if(e.type==="COMPOSITE")for(const n of l){i={};for(const d of e.fields)i[d]=n[d];Object.keys(i).length===0?i=void 0:i=JSON.stringify(i),n._pk_=i,n._grid_id_=a}else if(e.type==="EMBEDDED")for(const n of l)i=n[e.fields[0]],t.isObject(i)&&Object.keys(i).length!==0?i=JSON.stringify(i):i=void 0,n._pk_=i,n._grid_id_=a;else if(e.type==="STANDARD")for(const n of l)n._pk_=n[e.fields[0]],n._grid_id_=a}else if(t.isObject(l)){let i;if(e.type==="COMPOSITE"){i={};for(const n of e.fields)i[n]=l[n];Object.keys(i).length===0?i=void 0:i=JSON.stringify(i)}else e.type==="EMBEDDED"?(i=l[e.fields[0]],t.isObject(i)&&Object.keys(i).length!==0?i=JSON.stringify(i):i=void 0):e.type==="STANDARD"&&(i=l[e.fields[0]]);l._pk_=i,l._grid_id_=a}}},update:{page(e,l,a){if(e.page=l.index,e.rowsPerPage=l.size,t.isNumber(l.records))e.rowsNumber=l.records;else{let i=l.index*l.size;a!==l.size?e.rowsNumber=i:e.rowsNumber=i+1}}},get:{string(e,l){return t.isString(e)?e:l},number(e,l){return t.isNumber(e)?e:l},object(e){return t.isObject(e)?e:{}},array(e){return t.isArray(e)?e:[]},firstArray(e){if(t.isArray(e)&&e.length>0)return e[0]},pagination(e,l){let a=e?.pagination?e.pagination:l.pagination;return a?(l.pagination=a,a):l.pagination}},copy(e){return JSON.parse(JSON.stringify(e))},clone:{field(e){let l=o.copy(e);return l.format=e.format,l.toValue=e.toValue,l.nullValue=e.nullValue,l.rowToValue=e.rowToValue,l}},validation:{label:e=>t.isString(e.hint)&&e.hint!==""?e.hint:e.label,field(e){let l=e.validations;if(t.isString(l)&&(l=[l]),!t.isArray(l)||!l.length)return!0;let a=o.validation.label,i=t.isDefined(e.value)&&e.value!=null?e.value+"":"",n;for(const d of l)if(n=d.trim().toLowerCase(),n==="required"){if(!i.trim().length)return j.error("error.required",a(e)),!1}else if(n==="number"){let u=+i;if(isNaN(u))return j.error("error.fill_with_numbers",a(e)),!1}else if(n==="email"){if(i=i.trim(),!t.isEmail(i))return j.error("error.fill_with_email",a(e)),!1;e.value=i}else if(n.startsWith("length:")){let u=+n.substring(7).trim();if(!isNaN(u)&&i.length!==u)return j.error("error.fill_with_length",a(e),u),!1}else if(n.startsWith("maxlength:")){let u=+n.substring(10).trim();if(!isNaN(u)&&i.length>u)return j.error("error.fill_with_maxlength",a(e),u),!1}else if(n.startsWith("minlength:")){let u=+n.substring(10).trim();if(!isNaN(u)&&i.length<u)return j.error("error.fill_with_minlength",a(e),u),!1}return!0}},action:{page(e){let l=e.props,a=e.table,{page:i,rowsPerPage:n,sortBy:d,descending:u}=o.get.pagination(l,a),y=[],c=e.search;if(!c.empty){let p,A;for(const b of c.filters)if(p=t.isDefined(b.value)?b.value:"",p!=="")if(b.condition==="BETWEEN")A=t.isDefined(b.value2)?b.value2:"",A!==""&&(b.type==="datetime"&&b.converter==="epoch"&&(p=t.parse.epoch(p,{format:b.pattern||null}),A=t.parse.epoch(A,{format:b.pattern||null})),y.push({field:b.name,condition:b.condition,values:[p,A]}));else{b.type==="datetime"&&b.converter==="epoch"&&(p=t.parse.epoch(p,{format:b.pattern||null}));let E=b.or;if(t.isString(E)&&(E=[E]),E=t.isArray(E)?E:[],E.length){let R={logical:"and",filters:[]};for(let D=0;D<E.length;D++)R.filters.push({field:E[D],logical:D===0?"and":"or",condition:b.condition,value:p});y.push(R)}else y.push({field:b.name,condition:b.condition,value:p})}}let s=e.relations;if(t.isArray(s))for(const p of s)y.push({field:p.target,condition:"EQUAL",value:p.value});let f=e.definition,h=e.replica,_=o.copy(f.crud);if(_.replica=t.callIf(t.isNumber(h)&&h>-1,()=>h),t.isArray(_.joins)){for(const p of _.joins)if(p.enableReplica===!0&&(p.replica=t.isString(p.replica)?t.getFieldValue(p.replica,e.parentRow):_.replica),t.isArray(p?.relations)){for(const A of p.relations)if(t.isString(A.value)){let b=t.getFieldValue(A.value,e.parentRow);b&&(A.value=b)}}}_.page={index:i,size:n,count:f.table.page.count===!0},_.filters=t.isArray(_.filters)?_.filters:[],_.filters=_.filters.concat(y),d&&(_.orders=[(u?"-":"")+d]),a.loading=!0,a.selected=[],N.call({path:"/crud/page",method:"post",data:_,onFinish(){a.loading=!1},onSuccess(p){t.isObject(p)&&(a.rows=o.get.array(p.data),o.inject.pkAndGridId(f.id,a.rows,f._grid_id_),o.update.page(a.pagination,p,a.rows.length),a.pagination.sortBy=d,a.pagination.descending=u)}})},delete(e){let l=[];if(e?.row)l.push(o.id.fromPk(e.definition.id,e.row._pk_));else for(const a of e.table.selected)l.push(o.id.fromPk(e.definition.id,a._pk_));l.length&&j.confirm(function(){let a=o.copy(e.definition.crud),i="/crud/delete";l.length===1?a.id=l[0]:(a.ids=l,i+="s");let n=e.replica;t.isNumber(n)&&n>-1&&(a.replica=n),t.runIf(t.isFunction(e.onProgress),()=>e.onProgress(!0)),N.call({path:i,method:"post",data:a,onFinish(){t.runIf(t.isFunction(e.onProgress),()=>e.onProgress(!1))},onSuccess(d){t.runIf(t.isFunction(e.onSuccess),()=>e.onSuccess(d))}})},"confirm.delete")},save(e){let l={};for(const c of e.fields){if(!o.validation.field(c))return;if(c.type==="datetime"&&c.converter==="epoch")l[c.name]=t.parse.epoch(c.value,{format:c.pattern||null});else if(c.type==="pick")if(c.value===void 0&&c.nullable)if(t.isFunction(c.nullValue)){let s=c.nullValue();t.isObject(s)?Object.keys(s).forEach(f=>{l[f]=s[f]}):l[c.name]=s}else l[c.name]=null;else if(t.isFunction(c.toValue)&&t.isObject(c.value)){let s=c.toValue(c.value);Object.keys(s).forEach(f=>{l[f]=s[f]})}else l[c.name]=c.value;else c.value===void 0&&c.nullable?t.isFunction(c.nullValue)?l[c.name]=c.nullValue():l[c.name]=c.nullEmpty===!0?"":null:l[c.name]=c.value}let a=e.relations;if(t.isArray(a))for(const c of a)l[c.target]=c.value;let i={};Object.keys(l).forEach(c=>{let s=l[c],f=c.split("."),h=i;for(let _=0;_<f.length;_++)h=h[f[_]]=_==f.length-1?s:t.isObject(h[f[_]])?h[f[_]]:{}});let n=e.definition,d=o.copy(n.crud);d.value=i;let u=e.replica;t.isNumber(u)&&u>-1&&(d.replica=u);let y;e.is_edit===!0?(d.id=e.id,y="/crud/update"):y="/crud/create",delete d.joins,t.runIf(t.isFunction(e.onProgress),()=>e.onProgress(!0)),N.call({path:y,method:"post",data:d,onFinish(){t.runIf(t.isFunction(e.onProgress),()=>e.onProgress(!1))},onSuccess(c){if(c=o.get.object(c),o.inject.pkAndGridId(n.id,c,n._grid_id_),d=o.copy(n.crud),e.is_edit===!0&&(d?.joins?.length||d?.loads?.length)){if(d.id=o.copy(e.id),d.replica=e.replica,t.isArray(d.joins)){for(const f of d.joins)if(f.enableReplica===!0&&(f.replica=t.isString(f.replica)?t.getFieldValue(f.replica,e.parentRow):d.replica),t.isArray(f?.relations)){for(const h of f.relations)if(t.isString(h.value)){let _=t.getFieldValue(h.value,e.parentRow);_&&(h.value=_)}}}t.runIf(t.isFunction(e.onProgress),()=>e.onProgress(!0)),N.call({path:"/crud/single",method:"post",data:d,onFinish(){t.runIf(t.isFunction(e.onProgress),()=>e.onProgress(!1))},onSuccess(f){o.inject.pkAndGridId(n.id,f,n._grid_id_),t.runIf(t.isFunction(e.onSuccess),()=>e.onSuccess(f))}})}else t.runIf(t.isFunction(e.onSuccess),()=>e.onSuccess(c))}})}},permission:{view(e){let l=t.isObject(e)?e:{};return t.isArray(l.actions)&&l.actions.includes("PAGE")},add(e){let l=t.isObject(e)?e:{};return t.isArray(l.actions)&&l.actions.includes("CREATE")},edit(e){let l=t.isObject(e)?e:{};return t.isArray(l.actions)&&l.actions.includes("UPDATE")},delete(e){let l=t.isObject(e)?e:{};return t.isArray(l.actions)&&l.actions.includes("DELETE")},deletes(e){let l=t.isObject(e)?e:{};return t.isArray(l.actions)&&l.actions.includes("DELETES")}},api:N,config:J,callIf:t.callIf,runIf:t.runIf,isFunction:t.isFunction,isObject:t.isObject,isDefined:t.isDefined,isBoolean:t.isBoolean,isString:t.isString,isNumber:t.isNumber,isInteger:t.isInteger,isArray:t.isArray,isEmail:t.isEmail,uuid:t.uuid,log:t.log,format:t.format,getFieldValue:t.getFieldValue,dialog:j.dialog,error:j.error,calendar:j.calendar,$h:{isFunction:t.isFunction,isObject:t.isObject,isDefined:t.isDefined,isBoolean:t.isBoolean,isString:t.isString,isNumber:t.isNumber,isInteger:t.isInteger,isArray:t.isArray,isEmail:t.isEmail,uuid:t.uuid,log:t.log,format:t.format,grid:{field(e,l){try{return e[l]}catch{return e}},option(e,l,a,i){try{let n=window.$g,d=t.isString(i)&&i!==""?e[i]:e;return n[l._grid_id_].options[a].find(u=>u.value+""==d+"").label}catch{return e}},date(e,l,a){try{let i=window.$g;return t.format.date(e,{format:a||"YYYY-MM-DD HH:mm:ss",months:i[l._grid_id_].additionals.MONTHS,days:i[l._grid_id_].additionals.DAYS})}catch{return e}}}}};let r;const se=o.uuid();window.$h=o.$h;window.$g={};window.$k=[];const de=(e,l)=>{window.$k.push(e),window.$g[e]=l;let a=window.$k.length-10;if(a>0){const i=window.$k.splice(0,a);for(const n of i)delete window.$g[n]}},ce={components:{Search:C(()=>I(()=>import("./Search-BYjaRapV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),View:C(()=>I(()=>import("./View-DX8ImBm4.js"),__vite__mapDeps([15,2,3,1,4,11,8,12,7,13,14]))),Edit:C(()=>I(()=>import("./Edit-Cd5ubtJD.js"),__vite__mapDeps([16,2,3,1,4,7,5,6,8,9,17,11,12,13,14])))},setup(){return{crud:o,is_template_loading:O(!1),template:O({}),permission:O({}),parent:O(null),name:O(null),replica:O(null),replica_changed:O(!1),dialog:O({search:o.dialog.init(()=>r.dialog.search),view:o.dialog.init(),edit:o.dialog.init()}),search:O({filters:[],empty:!0}),table:O({rows:[],columns:[],visibles:[],selected:[],pagination:{},loading:!1,deleting:!1})}},created(){r=this,r.do_load_grid()},beforeUpdate(){this.do_load_grid()},methods:{do_load_grid(){o.isObject(window.$g)||(window.$g={});let e=o.get.string(r.$route.query.parent,"_"),l=o.get.string(r.$route.query.name,"");if(e===r.parent&&l===r.name)return;r.parent=e,r.name=l,r.replica=null;let a=se+"_"+e+"_"+l;if(!window.$g[a])r.is_template_loading||(r.is_template_loading=!0,o.api.call({path:"/grid",params:{name:l,parent:e},onSuccess(i){try{let n=o.get.object(i);n._grid_id_=a;let d=o.get.object(n.table);o.prepare.toFunction(d.columns),n.table=d;let u=o.get.array(n.fields);o.prepare.toFunction(u),n.fields=u;let y=o.get.array(n.children);o.prepare.children(y),n.children=y;let c=o.get.object(n.enums);o.prepare.options(c),n.enums=c;let s=o.get.object(n.options);o.prepare.options(s),n.options=s;let f=o.get.array(n.forms);o.prepare.forms(f),n.forms=f;let h=o.get.object(n.picks);o.prepare.picks(h),n.picks=h,de(a,n),r.template=window.$g[a],r.replica=o.get.firstArray(r.template.replicas),r.replica_changed=!1,r.permission=r.get_permission(),r.do_load_data()}catch(n){o.log("<<get-grid-1::"+a+">>",n)}r.is_template_loading=!1},notify:!0,onError(){r.is_template_loading=!1}}));else{r.template=window.$g[a],r.replica=o.get.firstArray(r.template.replicas),r.replica_changed=!1,r.permission=r.get_permission();try{r.do_load_data()}catch(i){o.log("<<get-grid-2::"+a+">>",i)}}},get_permission(){let e=r.template,l=o.get.object(e.table),a={actions:o.copy(e.actions)},i=l?.action?.exclude?l.action.exclude:[];return a.actions=e.actions.filter(n=>!i.includes(n)),a},do_load_data(){r.table={rows:[],columns:[{name:"_pk_"}],visibles:["_pk_"],selected:[],pagination:{},loading:!1,deleting:!1};let e=r.template,l=o.get.object(e.table),a=o.get.object(l.page),i=o.get.object(l.order);r.replica_changed!==!0&&(r.search={empty:!0,filters:o.copy(o.get.array(l.filters))}),r.table.pagination={page:1,rowsPerPage:a.default,sortBy:i.field,descending:i.descending===!0},r.table.columns=l.columns,r.table.visibles=l.visibles,r.do_request({pagination:r.table.pagination})},do_request(e){o.action.page({props:e,table:r.table,search:r.search,definition:r.template,replica:r.replica})},on_refresh_click(){r.do_request({pagination:r.table.pagination})},on_delete_click(e){o.action.delete({row:e.row,definition:r.template,table:r.table,replica:r.replica,onSuccess:function(){r.do_request({pagination:r.table.pagination})},onProgress:l=>r.table.deleting=l})},on_search_click(){o.dialog.show(r.dialog.search,{filters:o.copy(r.search.filters),template:r.template})},on_close_dialog_search(e){if(o.isArray(e)){let l=r.search,a,i;l.filters=e,l.empty=!0;for(const n of l.filters)if(a=o.isDefined(n.value)?n.value:"",i=o.isDefined(n.value2)?n.value2:"",a!==""||i!==""){l.empty=!1;break}o.dialog.hide(r.dialog.search),r.table.pagination.page=1,r.do_request({pagination:r.table.pagination})}},on_view_click(e){o.dialog.show(r.dialog.view,{template:r.template,replica:r.replica,row:e.row})},on_edit_click(e){o.dialog.show(r.dialog.edit,{template:r.template,replica:r.replica,row:e.row,index:e.rowIndex})},on_add_click(){o.dialog.show(r.dialog.edit,{template:r.template,replica:r.replica})},on_close_dialog_edit(e){let l=e?.row;if(l)if(e.is_edit)if(o.isDefined(l._pk_))r.table.rows[e.index]=l;else{o.dialog.hide(r.dialog.edit),setTimeout(function(){o.dialog.show(r.dialog.edit,{template:r.template,replica:r.replica,row:l})},100);return}else r.do_request({pagination:r.table.pagination});o.dialog.hide(r.dialog.edit)},on_page_changed(){let e=+r.table.pagination.page;!isNaN(e)&&e>0&&r.do_request({pagination:r.table.pagination})},on_replica_changed(){r.replica_changed=!0,r.do_load_data()}}},fe={class:"full-width row flex-center text-accent q-gutter-sm"},ge={class:"text-subtitle2"},me={key:0,class:"text-left"},ue={class:"text-caption"};function pe(e,l,a,i,n,d){const u=x("Search"),y=x("View"),c=x("Edit");return w(),B($,null,[m(re,{class:"table-sticky-header q-ma-sm",rows:i.table.rows,columns:i.table.columns,"visible-columns":i.table.visibles,"row-key":"_pk_",loading:i.table.loading,selection:i.crud.isObject(i.template.table)?i.template.table.selection:"single",selected:i.table.selected,"onUpdate:selected":l[2]||(l[2]=s=>i.table.selected=s),pagination:i.table.pagination,"onUpdate:pagination":l[3]||(l[3]=s=>i.table.pagination=s),dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","selected-rows-label":s=>{},"rows-per-page-options":i.crud.isObject(i.template.table)&&i.template.table.page?.options?i.template.table.page.options:[10,20,30],onRequest:d.do_request,"binary-state-sort":"",separator:i.crud.isObject(i.template.table)?i.template.table.separator:"cell",bordered:""},{top:g(()=>[i.crud.isObject(i.template.table)&&i.template.table.selection==="multiple"&&i.crud.permission.delete(i.permission)?(w(),k(V,{key:0,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"negative",icon:"delete",disable:!i.table.selected.length,loading:i.table.deleting,onClick:d.on_delete_click},{default:g(()=>[m(q,null,{default:g(()=>[P(S(e.$t("label.delete")),1)]),_:1})]),_:1},8,["disable","loading","onClick"])):v("",!0),i.crud.permission.add(i.permission)?(w(),k(V,{key:1,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"teal",icon:"add",onClick:d.on_add_click},{default:g(()=>[m(q,null,{default:g(()=>[P(S(e.$t("label.new")),1)]),_:1})]),_:1},8,["onClick"])):v("",!0),m(L),i.template.replicas?.length?(w(),k(ae,{key:2,modelValue:i.replica,"onUpdate:modelValue":[l[0]||(l[0]=s=>i.replica=s),d.on_replica_changed],options:i.template.replicas,borderless:"",class:"text-h6",dense:""},{prepend:g(()=>[m(U,{name:"storage",class:"q-mr-sm"})]),option:g(s=>[m(ee,H(X(s.itemProps)),{default:g(()=>[m(le,null,{default:g(()=>[m(ie,{class:"text-h6"},{default:g(()=>[P(S(s.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onUpdate:modelValue"])):v("",!0),m(L),i.search.filters?.length?(w(),k(V,{key:3,glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:d.on_search_click},{default:g(()=>[i.search.empty?v("",!0):(w(),k(te,{key:0,class:"led-green",floating:""})),m(q,null,{default:g(()=>[P(S(e.$t("label.search")),1)]),_:1})]),_:1},8,["onClick"])):v("",!0),m(V,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:i.table.loading,onClick:d.on_refresh_click},{default:g(()=>[m(q,null,{default:g(()=>[P(S(e.$t("label.refresh")),1)]),_:1})]),_:1},8,["loading","onClick"])]),"no-data":g(({message:s})=>[T("div",fe,[m(U,{size:"2em",name:"block"}),T("span",ge,S(s),1)])]),loading:g(()=>[m(M,{showing:"",color:"primary"})]),"header-selection":g(s=>[i.crud.isObject(i.template.table)&&i.template.table.selection==="multiple"&&i.crud.permission.deletes(i.permission)?(w(),B("div",me,[m(z,{dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:s.selected,"onUpdate:modelValue":f=>s.selected=f},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0)]),"body-selection":g(s=>[i.crud.isObject(i.template.table)&&i.template.table.selection==="multiple"&&i.crud.permission.deletes(i.permission)?(w(),k(z,{key:0,dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:s.selected,"onUpdate:modelValue":f=>s.selected=f},null,8,["modelValue","onUpdate:modelValue"])):i.crud.isObject(i.template.table)&&i.crud.permission.delete(i.permission)?(w(),k(V,{key:1,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"negative",icon:"delete",onClick:f=>d.on_delete_click(s)},{default:g(()=>[m(q,null,{default:g(()=>[P(S(e.$t("label.delete")),1)]),_:1})]),_:2},1032,["onClick"])):v("",!0),i.crud.permission.edit(i.permission)?(w(),k(V,{key:2,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"primary",icon:"drive_file_rename_outline",onClick:f=>d.on_edit_click(s)},{default:g(()=>[m(q,null,{default:g(()=>[P(S(e.$t("label.edit")),1)]),_:1})]),_:2},1032,["onClick"])):v("",!0),i.crud.permission.view(i.permission)?(w(),k(V,{key:3,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"deep-purple",icon:"visibility",onClick:f=>d.on_view_click(s)},{default:g(()=>[m(q,null,{default:g(()=>[P(S(e.$t("label.view")),1)]),_:1})]),_:2},1032,["onClick"])):v("",!0)]),pagination:g(s=>[s.pagesNumber>2?(w(),k(V,{key:0,glossy:"",size:"sm",icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:s.isFirstPage,onClick:s.firstPage},null,8,["disable","onClick"])):v("",!0),m(V,{glossy:"",size:"sm",icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:s.isFirstPage,onClick:s.prevPage},null,8,["disable","onClick"]),m(W,{dense:"",borderless:"",type:"number","input-class":"text-center q-ml-xs q-mr-xs","input-style":"max-width: 60px;",modelValue:i.table.pagination.page,"onUpdate:modelValue":[l[1]||(l[1]=f=>i.table.pagination.page=f),d.on_page_changed]},Y({_:2},[i.crud.isObject(i.template.table)&&i.crud.isObject(i.template.table.page)&&i.template.table.page.count===!0?{name:"append",fn:g(()=>[T("span",ue," / "+S(s.pagesNumber),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"]),m(V,{glossy:"",size:"sm",icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:s.isLastPage,onClick:s.nextPage},null,8,["disable","onClick"]),s.pagesNumber>2?(w(),k(V,{key:1,glossy:"",size:"sm",icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:s.isLastPage,onClick:s.lastPage},null,8,["disable","onClick"])):v("",!0)]),_:1},8,["rows","columns","visible-columns","loading","selection","selected","pagination","dense","no-data-label","rows-per-page-options","onRequest","separator"]),m(M,{showing:i.is_template_loading},{default:g(()=>[m(oe,{size:"80px",color:"primary"})]),_:1},8,["showing"]),m(Q,{modelValue:i.dialog.search.show,"onUpdate:modelValue":l[4]||(l[4]=s=>i.dialog.search.show=s),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:g(()=>[Z(m(u,{parameters:i.dialog.search.parameters,onClose:d.on_close_dialog_search,style:K(i.dialog.search.style)},null,8,["parameters","onClose","style"]),[[ne,i.dialog.search.onDrag,void 0,{mouse:!0}]])]),_:1},8,["modelValue"]),m(Q,{modelValue:i.dialog.view.show,"onUpdate:modelValue":l[5]||(l[5]=s=>i.dialog.view.show=s),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:g(()=>[m(y,{parameters:i.dialog.view.parameters},null,8,["parameters"])]),_:1},8,["modelValue"]),m(Q,{modelValue:i.dialog.edit.show,"onUpdate:modelValue":l[6]||(l[6]=s=>i.dialog.edit.show=s),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:g(()=>[m(c,{parameters:i.dialog.edit.parameters,onClose:d.on_close_dialog_edit},null,8,["parameters","onClose"])]),_:1},8,["modelValue"])],64)}const _e=G(ce,[["render",pe]]),Se=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));export{Se as I,o as c};
